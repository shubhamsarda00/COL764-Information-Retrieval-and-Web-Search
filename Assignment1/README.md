# Assignment 1

In this assignment, we implement a **Vector Space Retrieval** model to create an efficient retrieval system that can different type queries such as prefix search queries, name entity tagged queries etc. More detailed problem statement can be found in **assignment1.pdf**. More details on the model implementation and query handling can be found in **Algorithmic Details of the Vector Space Retrieval Model.pdf**. 

### Requirements for Running the Code

**Libraries Required:**
1. numpy
2. nltk
3. pickle
4. bzip
5. os
6. sys
7. random

Python version >= 3.7.4

Stanford ner tagger has been used for tagging. It must be present in the **src** folder for running the code.

It can be downloaded from: https://nlp.stanford.edu/software/stanford-ner-4.0.0.zip

### Commands for Running the Code

**1. invidx_cons.py coll-path indexfile**
coll-path: specifies the directory containing the files containing documents of the collection
indexfile: is the name of the generated index file

The program should generate two files:
(a) indexfile.dict contains the dictionary 
(b) indexfile.idx contains the inverted index postings

**2. printdict.py indexfile.dict**

This prints the dictionary out in a human-readable form to the screen, with each line containing the following structure â€“
 <indexterm>:<df>:<offset-to-its-postingslist-in-idx-file> 
    where offset in index file is the number of bytes from the start of the file where the corresponding postings list starts.
    
**3. vecsearch.py queryfile cutoff resultfile indexfile dictfile javapath**
queryfile: a file containing keyword queries, with each line corresponding to a query. Sample file: **topics.51-100**
cutoff k: the number k (default 10) which specifies how many top-scoring results have to be returned for each query 
resultfile: the output file named resultfile which is generated by your program, which contains the document ids of all documents that have top-k (k as specified) highest-scores and their scores in each line (note that the output could contain more than k documents).
indexfile: the index file generated by invidx cons program above
dictfile: the dictionary file generated by the invidx cons program above
javapath: path to java.exe in the bin folder inside jdk folder
Note: The tagger also requires the java path. If its not already added to PATH variable, you can either give it as the last cmd line argument or the following path will be considered as default: "C:/Program Files/Java/jdk-11.0.3/bin/java.exe"
This default path can also be changed manually from 14th line of vecsearch.py

### Evaluation
The trec eval tool (https://github.com/usnistgov/trec_eval) can be used to evaluate the model based on NDCG or F1 score.
Correct judgement of these sample queries can be found in **results.51-100**.
 
NDCG: 0.2467, F1@100: 0.158
Compressed size of index files was 64.47 mb
